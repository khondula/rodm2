---
title: "Link Actions to People"
author: "Kelly Hondula"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

In ODM2 lingo, **Actions** (and therefore **Results**) can be linked to **People** through the **ActionBy** table to describe who performed that action. See more details in the [ODM2 documentation](https://github.com/ODM2/ODM2/blob/master/doc/ODM2Docs/core_people.md).

## New people

Create one new entry in the People table using the function `db_describe_person`. You must supply the databse connection object, and required columns in the [People](http://odm2.github.io/ODM2/schemas/ODM2_Current/tables/ODM2Core_People.html) and [Affiliations](http://odm2.github.io/ODM2/schemas/ODM2_Current/tables/ODM2Core_Affiliations.html) tables: First Name, Last Name, Affiliation Start Date, and Primary Email. Be sure to format the date unambiguously, i.e. YYYY-MM-DD or YYYY/MM/DD. 

```{r}
library(rodm2)
library(RPostgreSQL)
create_sqlite(dir = ".")
db <- DBI::dbConnect(RSQLite::SQLite(), "odm2.sqlite")
```

```{r}
db_describe_person(db = db, 
                   PersonFirstName = "Wendy", 
                   PersonLastName = "Wetland", 
                   AffiliationStartDate = "2018-01-01", 
                   PrimaryEmail = "wendy@swamps.edu")
```

