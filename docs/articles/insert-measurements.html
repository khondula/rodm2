<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Insert measurement results • rodm2</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Insert measurement results">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rodm2</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Insert-sample-results-data.html">Insert sample results data</a>
    </li>
    <li>
      <a href="../articles/insert-measurements.html">Insert measurement results</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Insert time series results</a>
    </li>
    <li>
      <a href="../articles/new_person.html">Link Actions to People</a>
    </li>
    <li>
      <a href="../articles/newsites.html">Add new sites</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Insert measurement results</h1>
            
      
      
      <div class="hidden name"><code>insert-measurements.Rmd</code></div>

    </div>

    
    
<p>Measurement results are one value per variable collected at one site using a specific method. This example shows how to upload data from a dataframe where each row is point data about a set variables collected at a site. The data are associated with one “action” because the same instrument measured all 3 variables. Each variable’s data is a different “result” with different units.</p>
<div id="connect" class="section level2">
<h2 class="hasAnchor">
<a href="#connect" class="anchor"></a>Connect</h2>
<p>Load rodm2 and create a connection to your database. If you don’t have an existing database, create an empty ODM2 sqlite database using <code><a href="../reference/create_sqlite.html">create_sqlite(connect = TRUE)</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rodm2)
db &lt;-<span class="st"> </span>rodm2<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rodm2/topics/create_sqlite">create_sqlite</a></span>(<span class="dt">connect =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
<div id="prepare-data" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-data" class="anchor"></a>Prepare data</h2>
<p>The data to upload should have data for one or more variables, where data in each row was collected at one site using the same instrument. It needs a “Timestamp column” formatted as YYYY-MM-DD HH:MM:SS, and a column with site codes. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">measurement_data &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tibble/topics/tibble">tibble</a></span>(<span class="dt">Timestamp =</span> <span class="kw">c</span>(<span class="st">"2018-06-27 13:45:00"</span>, <span class="st">"2018-06-27 13:55:00"</span>),
                   <span class="st">"wd"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">180</span>,<span class="dv">170</span>),
                   <span class="st">"ws"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">1.5</span>), 
                   <span class="st">"gustspeed"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="fl">2.5</span>),
                   <span class="st">"site"</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">"BB1"</span>, <span class="st">"BB2"</span>))
<span class="kw">head</span>(measurement_data)
<span class="co">#&gt; # A tibble: 2 x 5</span>
<span class="co">#&gt;   Timestamp              wd    ws gustspeed site </span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1 2018-06-27 13:45:00   180   1         2   BB1  </span>
<span class="co">#&gt; 2 2018-06-27 13:55:00   170   1.5       2.5 BB2</span></code></pre></div>
</div>
<div id="variables-and-units" class="section level2">
<h2 class="hasAnchor">
<a href="#variables-and-units" class="anchor"></a>Variables and units</h2>
<p>A list that matches the variables (i.e. column names) to their units id required. Make sure the units are selected from existing unit names in the units table. (A new database created with <code><a href="../reference/create_sqlite.html">create_sqlite()</a></code> comes populated with 1203 units that can be accessed with <code><a href="../reference/get_cv_terms.html">get_cv_terms("units")</a></code>.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vars_list &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="st">'Wind direction'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">column =</span> <span class="st">'wd'</span>, <span class="dt">units =</span> <span class="st">'Degree'</span>),
  <span class="st">'Wind speed'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">column =</span> <span class="st">'ws'</span>, <span class="dt">units =</span> <span class="st">'Meter per Second'</span>),
  <span class="st">'Wind gust speed'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">column =</span> <span class="st">'gustspeed'</span>, <span class="dt">units =</span> <span class="st">'Meter per Second'</span>)
)</code></pre></div>
<p>To see a list of any controlled vocabulary terms, use the <code><a href="../reference/get_cv_terms.html">get_cv_terms()</a></code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">varnames &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_cv_terms.html">get_cv_terms</a></span>(<span class="st">"variablename"</span>) 
<span class="co">#&gt; variablename controlled vocabulary terms: "1,1,1-Trichloroethane", "1,1,2,2-Tetrachloroethane", "1,1,2-Trichloroethane", "1,1-Dichloroethane", "1,1-Dichloroethene", "1,2,3-Trimethylbenzene", "1,2,4,5-tetrachlorobenzene", "1,2,4-Trichlorobenzene", "1,2,4-Trimethylbenzene", "1,2-Dibromo-3-chloropropane", "1,2-Dichlorobenzene", "1,2-Dichloroethane", "1,2-Dichloropropane", "1,2-Dimethylnaphthalene", "1,2-Dinitrobenzene", "1,2-Diphenylhydrazine", "1,3,5-Trimethylbenzene", "1,3-Dichlorobenzene", "1,3-Dimethyladamantane", "1,3-Dimethylnaphthalene", "1,3-Dinitrobenzene", "1,4,5,8-Tetramethylnaphthalene", "1,4,5-Trimethylnaphthalene", "1,4,6-Trimethylnaphthalene", "1,4-Dichlorobenzene", "1,4-Dimethylnaphthalene", "1,4-Dinitrobenzene", "1,5-Dimethylnaphthalene", "1,6,7-Trimethylnaphthalene", "1,6-Dimethylnaphthalene", "1,8-Dimethylnaphthalene", "1-Chloronaphthalene", "1-Ethylnaphthalene", "1-Methylanthracene", "1-Methyldibenzothiophene", "1-Methylfluorene", "1-Methylnaphthalene", "1-Methylphenanthrene", "1-Naphthalenol methylcarbamate", "19-Hexanoyloxyfucoxanthin", "2,2-dichlorovinyl dimethyl phosphate", "2,3,4,6-Tetrachlorophenol", "2,3,5-Trimethylnaphthalene", "2,3,6-Trimethylnaphthalene", "2,3-Dimethylnaphthalene", "2,4,5-Trichlorophenol", "2,4,6-Trichlorophenol", "2,4-Dichlorophenol", "2,4-Dimethylphenol", "2,4-Dinitrophenol", "2,4-Dinitrotoluene", "2,6-Dichlorophenol", "2,6-Dinitrotoluene", "2,7-Dimethylnaphthalene", "2-Butanone (MEK)", "2-Butoxyethanol", "2-Chloronaphthalene", "2-Chlorophenol", "2-Hexanone", "2-Methylanthracene", "2-Methyldibenzothiophene", "2-Methylnaphthalene", "2-Methylphenanthrene", "2-Methylphenol", "2-Nitroaniline", "2-Nitrophenol", "3,3-Dichlorobenzidine", "3,6-Dimethylphenanthrene", "3-Nitroaniline", "4,4-DDD", "4,4-DDE", "4,4-DDT", "4,4-Methylenebis(2-chloroaniline)", "4,4-Methylenebis(N,N-dimethylaniline)", "4,6-Dinitro-2-methylphenol", "4-Bromophenylphenyl ether", "4-Chloro-3-methylphenol", "4-Chloroaniline", "4-Chlorophenylphenyl ether", "4-Methylchrysene", "4-Methyldibenzothiophene", "4-Methylphenol", "4-Nitroaniline", "4-Nitrophenol", "9 cis-Neoxanthin", "9,10-Dimethylanthracene", "Absorbance", "Abundance", "Acenaphthene", "Acenaphthylene", "Acetate", "Acetic Acid", "Acetone", "Acetophenone", "Acid neutralizing capacity", "Acid phosphatase", "Acidity, CO2 acidity", "Acidity, exchange", "Acidity, hot", "Acidity, mineral acidity", "Acidity, total acidity", "Adamantane", "Agency code", "Albedo", "Aldrin", "Alkalinity, bicarbonate", "Alkalinity, carbonate", "Alkalinity, carbonate plus bicarbonate", "Alkalinity, hydroxide", "Alkalinity, total", "Alloxanthin", "Alpha-N-Acetylglucosaminidase", "Altitude", "Aluminum", "Aluminum, dissolved", "Aluminum, particulate", "Aluminum, total", "Ammonium flux", "Aniline", "Anthracene", "Antimony, dissolved", "Antimony, distribution coefficient", "Antimony, particulate", "Antimony, total", "Area", "Argon", "Argon, dissolved", "Aroclor-1016", "Aroclor-1242", "Aroclor-1254", "Aroclor-1260", "Arsenic, dissolved", "Arsenic, distribution coefficient", "Arsenic, particulate", "Arsenic, total", "Asteridae coverage", "BOD1", "BOD2, carbonaceous", "BOD20", "BOD20, carbonaceous", "BOD20, nitrogenous", "BOD3, carbonaceous", "BOD4, carbonaceous", "BOD5", "BOD5, carbonaceous", "BOD5, nitrogenous", "BOD6, carbonaceous", "BOD7, carbonaceous", "BODu", "BODu, carbonaceous", "BODu, nitrogenous", "Barium, dissolved", "Barium, distribution coefficient", "Barium, particulate", "Barium, total", "Barometric pressure", "Baseflow", "Batis maritima Coverage", "Battery temperature", "Battery voltage", "Benthos", "Benz(a)anthracene", "Benzene", "Benzo(a)pyrene", "Benzo(b)fluoranthene", "Benzo(b)fluorene", "Benzo(e)pyrene", "Benzo(g,h,i)perylene", "Benzo(k)fluoranthene", "Benzoic acid", "Benzyl alcohol", "Beryllium, dissolved", "Beryllium, total", "Beta-glucosidase", "Bicarbonate", "Bifenthrin", "Biogenic silica", "Biomass", "Biomass, phytoplankton", "Biomass, total", "Biphenyl", "Bis(2-chloroethoxy)methane", "Bis-(2-ethylhexyl) phthalate", "Blue-green algae (cyanobacteria), phycocyanin", "Body length", "Borehole log material classification", "Boron, dissolved", "Boron, total", "Borrichia frutescens Coverage", "Bromide, dissolved", "Bromide, total", "Bromine", "Bromine, dissolved", "Bromodichloromethane", "Bromoform", "Bromomethane (Methyl bromide)", "Bulk density", "Bulk electrical conductivity", "Butane", "Butylbenzylphthalate", "Butyric Acid", "COD", "Cadmium, dissolved", "Cadmium, distribution coefficient", "Cadmium, particulate", "Cadmium, total", "Calcium, dissolved", "Calcium, total", "Canthaxanthin", "Carbaryl", "Carbazole", "Carbon Dioxide, dissolved", "Carbon dioxide", "Carbon dioxide flux", "Carbon dioxide storage flux", "Carbon dioxide, transducer signal", "Carbon disulfide", "Carbon monoxide, dissolved", "Carbon tetrachloride", "Carbon to nitrogen mass ratio", "Carbon to nitrogen molar ratio", "Carbon, dissolved inorganic", "Carbon, dissolved organic", "Carbon, dissolved total", "Carbon, particulate organic", "Carbon, suspended inorganic", "Carbon, suspended organic", "Carbon, suspended total", "Carbon, total", "Carbon, total inorganic", "Carbon, total organic", "Carbon, total solid phase", "Carbon-13, stable isotope ratio delta", "Carbon-14", "Carbonate", "Cellobiohydrolase", "Cesium, dissolved", "Cesium, total", "Cesium-137", "Chloride", "Chloride, dissolved", "Chloride, total", "Chlorine", "Chlorine, dissolved", "Chlorobenzene", "Chlorobenzilate", "Chloroethane", "Chloroethene", "Chloroform", "Chloromethane", "Chlorophyll (a+b+c)", "Chlorophyll a", "Chlorophyll a allomer", "Chlorophyll a, corrected for pheophytin", "Chlorophyll a, uncorrected for pheophytin", "Chlorophyll b", "Chlorophyll c", "Chlorophyll c1 and c2", "Chlorophyll fluorescence", "Chromium (III)", "Chromium (VI)", "Chromium (VI), dissolved", "Chromium, dissolved", "Chromium, distribution coefficient", "Chromium, particulate", "Chromium, total", "Chrysene", "Clay", "Cobalt, dissolved", "Cobalt, total", "Cobalt-60", "Coliform, fecal", "Coliform, total", "Color", "Colored dissolved organic matter", "Container number", "Copper, dissolved", "Copper, distribution coefficient", "Copper, particulate", "Copper, total", "Counter", "Cryptophytes", "Cuscuta spp. coverage", "Cyanide", "Cyclohexane", "Cytochrome P450, family 1, subfamily A, polypeptide 1, delta cycle threshold", "Cytosolic protein", "DNA damage, olive tail moment", "DNA damage, percent tail DNA", "DNA damage, tail length", "Data shuttle attached", "Data shuttle detached", "Density", "Deuterium", "Di-n-butylphthalate", "Di-n-octyl phthalate", "Diadinoxanthin", "Diallate (cis or trans)", "Diatoxanthin", "Dibenz(a,h)anthracene", "Dibenzofuran", "Dibenzothiophene", "Dibromochloromethane", "Dieldrin", "Diethyl phthalate", "Diethylene glycol", "Diisopropyl Ether", "Dimethyl Phthalate", "Dimethylphenanthrene", "Dinoflagellates", "Dinoseb", "Discharge", "Distance", "Distichlis spicata Coverage", "Disulfoton", "E-coli", "Electric Current", "Electric Energy", "Electric Power", "Electrical conductivity", "End of file", "Endosulfan I (alpha)", "Endosulfan II (beta)", "Endosulfan Sulfate", "Endrin", "Endrin Ketone", "Endrin aldehyde", "Enterococci", "Ethane", "Ethane, dissolved", "Ethanol", "Ethoxyresorufin O-deethylase, activity", "Ethyl tert-Butyl Ether", "Ethylbenzene", "Ethylene", "Ethylene glycol", "Ethylene, dissolved", "Ethyne", "Evaporation", "Evapotranspiration", "Evapotranspiration, potential", "Fish detections", "Flash memory error count", "Fluoranthene", "Fluorene", "Fluoride", "Fluoride, dissolved", "Fluorine", "Fluorine, dissolved", "Formate", "Formic acid", "Frequency of Rotation", "Friction velocity", "Gage height", "Global Radiation", "Glutaraldehyde", "Glutathione S-transferase, activity", "Glutathione S-transferase, delta cycle threshold", "Gross alpha radionuclides", "Gross beta radionuclides", "Ground heat flux", "Groundwater Depth", "Hardness, Calcium", "Hardness, Magnesium", "Hardness, carbonate", "Hardness, non-carbonate", "Hardness, total", "Heat index", "Helium", "Helium, dissolved", "Heptachlor", "Heptachlor epoxide", "Hexachlorobenzene", "Hexachlorobutadiene", "Hexachlorocyclopentadiene", "Hexachloroethane", "Hexane", "Host connected", "Hydrogen", "Hydrogen sulfide", "Hydrogen, dissolved", "Hydrogen-2, stable isotope ratio delta", "Imaginary dielectric constant", "Indeno(1,2,3-cd)pyrene", "Indicator", "Instrument status code", "Intercept", "Iodide, dissolved", "Iron", "Iron sulfide", "Iron, dissolved", "Iron, ferric", "Iron, ferrous", "Iron, particulate", "Iron, total", "Isobutane", "Isobutyric acid", "Isopentane", "Isophorone", "Isopropyl alcohol", "Isopropylbenzene", "Iva frutescens coverage", "LSI", "Lactic Acid", "Latent heat flux", "Latitude", "Lead, dissolved", "Lead, distribution coefficient", "Lead, particulate", "Lead, total", "Leaf wetness", "Light attenuation coefficient", "Limonium nashii Coverage", "Lithium, dissolved", "Lithium, total", "Liver, mass", "Logger stopped", "Longitude", "Low battery count", "Luminous Flux", "Lycium carolinianum Coverage", "Magnesium", "Magnesium, dissolved", "Magnesium, total", "Malathion", "Manganese", "Manganese, dissolved", "Manganese, particulate", "Manganese, total", "Mass", "Mercury, dissolved", "Mercury, total", "Methane", "Methane, dissolved", "Methanol", "Methoxychlor", "Methyl tert-butyl ether (MTBE)", "Methylchrysene", "Methylene blue active substances", "Methylene chloride (Dichloromethane)", "Methylfluoranthene", "Methylfluorene", "Methylmercury", "Methylpyrene", "Mevinphos", "Microsomal protein", "Molbydenum, dissolved", "Molybdenum, total", "Momentum flux", "Monanthochloe littoralis Coverage", "N, albuminoid", "N-Nitrosodi-n-butylamine", "N-Nitrosodi-n-propylamine", "N-Nitrosodiethylamine", "N-Nitrosodimethylamine", "N-Nitrosodiphenylamine", "N-Nitrosomethylethylamine", "NDVI", "Naphthalene", "Net heat flux", "Nickel, dissolved", "Nickel, distribution coefficient", "Nickel, particulate", "Nickel, total", "Nitrobenzene", "Nitrogen, NH3", "Nitrogen, NH3 + NH4", "Nitrogen, NH4", "Nitrogen, dissolved (free+ionized) Ammonia (NH3) + (NH4)", "Nitrogen, dissolved Kjeldahl", "Nitrogen, dissolved inorganic", "Nitrogen, dissolved nitrate (NO3)", "Nitrogen, dissolved nitrite (NO2)", "Nitrogen, dissolved nitrite (NO2) + nitrate (NO3)", "Nitrogen, dissolved organic", "Nitrogen, gas", "Nitrogen, inorganic", "Nitrogen, nitrate (NO3)", "Nitrogen, nitrite (NO2)", "Nitrogen, nitrite (NO2) + nitrate (NO3)", "Nitrogen, organic", "Nitrogen, organic kjeldahl", "Nitrogen, particulate organic", "Nitrogen, total", "Nitrogen, total dissolved", "Nitrogen, total kjeldahl", "Nitrogen, total nitrite", "Nitrogen, total organic", "Nitrogen-15", "Nitrogen-15, stable isotope ratio delta", "Nitrous oxide", "No vegetation coverage", "Odor", "Offset", "Oil and grease", "Organic matter", "Orientation", "Osmotic pressure", "Oxygen", "Oxygen flux", "Oxygen uptake", "Oxygen, dissolved", "Oxygen, dissolved percent of saturation", "Oxygen, dissolved, transducer signal", "Oxygen-18", "Oxygen-18, stable isotope ratio delta", "Ozone", "Parameter", "Parathion-ethyl", "Pentachlorobenzene", "Pentachlorophenol", "Pentane", "Percent full scale", "Peridinin", "Permethrin", "Permittivity", "Perylene", "Petroleum hydrocarbon, total", "Phenanthrene", "Phenol", "Phenolics, total", "Pheophytin", "Phorate", "Phosphorodithioic acid", "Phosphorus, dissolved", "Phosphorus, dissolved organic", "Phosphorus, inorganic", "Phosphorus, organic", "Phosphorus, orthophosphate", "Phosphorus, orthophosphate dissolved", "Phosphorus, orthophosphate total", "Phosphorus, particulate", "Phosphorus, particulate organic", "Phosphorus, phosphate (PO4)", "Phosphorus, phosphate flux", "Phosphorus, polyphosphate", "Phosphorus, total", "Phosphorus, total dissolved", "Phytoplankton", "Piperonyl Butoxide", "Polycyclic aromatic hydrocarbon, alkyl", "Polycyclic aromatic hydrocarbon, parent", "Polycyclic aromatic hydrocarbon, total", "Porosity", "Position", "Potassium, dissolved", "Potassium, total", "Precipitation", "Pressure, absolute", "Pressure, gauge", "Primary productivity", "Primary productivity, gross", "Program signature", "Pronamide", "Propane", "Propane, dissolved", "Propanoic acid", "Propylene glycol", "Pyrene", "Pyridine", "Radiation, incoming", "Radiation, incoming PAR", "Radiation, incoming UV-A", "Radiation, incoming UV-B", "Radiation, incoming longwave", "Radiation, incoming shortwave", "Radiation, net", "Radiation, net PAR", "Radiation, net longwave", "Radiation, net shortwave", "Radiation, outgoing PAR", "Radiation, outgoing longwave", "Radiation, outgoing shortwave", "Radiation, total incoming", "Radiation, total outgoing", "Radiation, total shortwave", "Radium-226", "Radium-228", "Radon-222", "Rainfall rate", "Real dielectric constant", "Received signal strength indication", "Recorder code", "Reduction potential", "Relative humidity", "Remark", "Reservoir storage", "Respiration, ecosystem", "Respiration, net", "Retene", "Rhenium, total", "Ruthenium-106", "SUVA254", "Salicornia bigelovii coverage", "Salicornia virginica coverage", "Salinity", "Sand", "Secchi depth", "Sediment, passing sieve", "Sediment, retained on sieve", "Sediment, suspended", "Selenium, dissolved", "Selenium, distribution coefficient", "Selenium, particulate", "Selenium, total", "Sensible heat flux", "Sequence number", "Shannon diversity index", "Shannon evenness index", "Sigma-t", "Signal-to-noise ratio", "Silica", "Silica, dissolved", "Silicate", "Silicic acid", "Silicic acid flux", "Silicon", "Silicon, dissolved", "Silt", "Silver, dissolved", "Silver, total", "Slope", "Snow depth", "Snow water equivalent", "Sodium adsorption ratio", "Sodium plus potassium", "Sodium, dissolved", "Sodium, fraction of cations", "Sodium, total", "Solids, fixed dissolved", "Solids, fixed suspended", "Solids, total", "Solids, total dissolved", "Solids, total fixed", "Solids, total suspended", "Solids, total volatile", "Solids, volatile dissolved", "Solids, volatile suspended", "Spartina alterniflora coverage", "Spartina spartinea coverage", "Specific conductance", "Speed of sound", "Squalene", "Streamflow", "Streptococci, fecal", "Strontium, dissolved", "Strontium, total", "Styrene", "Suaeda linearis coverage", "Suaeda maritima coverage", "Sulfate, dissolved", "Sulfate, total", "Sulfide, dissolved", "Sulfide, total", "Sulfur", "Sulfur dioxide", "Sulfur, dissolved", "Sulfur, organic", "Sulfur, pyritic", "Sunshine duration", "Superoxide dismutase, activity", "Superoxide dismutase, delta cycle threshold", "TDR waveform relative length", "THSW Index", "THW Index", "TSI", "Table overrun error count", "Taxa count", "Temperature", "Temperature change", "Temperature, datalogger", "Temperature, dew point", "Temperature, initial", "Temperature, sensor", "Temperature, transducer signal", "Terbufos", "Terpineol", "Tert-Amyl Methyl Ether", "Tertiary Butyl Alcohol", "Tetracene", "Tetrachloroethene", "Tetraethylene glycol", "Tetrahydrofuran", "Tetramethylnaphthalene", "Thallium, dissolved", "Thallium, distribution coefficient", "Thallium, particulate", "Thallium, total", "Thorium", "Thorium, dissolved", "Thorium-228", "Thorium-230", "Thorium-232", "Threshold", "Tide stage", "Time Stamp", "Time, elapsed", "Tin, dissolved", "Tin, total", "Titanium", "Titanium, dissolved", "Toluene", "Transient species coverage", "Transpiration", "Tributoxyethyl phosphate", "Trichloroethene", "Triethylene glycol", "Trifluralin", "Triphenylene", "Tritium (3H), Delta T of H2O", "Turbidity", "Ultraviolet Radation Index", "Ultraviolet Radiation Dose", "Uranium", "Uranium, dissolved", "Uranium-234", "Uranium-235", "Uranium-238", "Urea", "Urea flux", "Vanadium, dissolved", "Vanadium, particulate", "Vanadium, total", "Vapor pressure", "Vapor pressure deficit", "Velocity", "Visibility", "Voltage", "Volume", "Volumetric water content", "Watchdog error count", "Water Content", "Water Use, Agriculture", "Water Use, Commercial + Industrial + Power", "Water Use, Domestic wells", "Water Use, Public Supply", "Water Use, Recreation", "Water column equivalent height, absolute", "Water column equivalent height, barometric", "Water depth", "Water depth, averaged", "Water flux", "Water level", "Water potential", "Water vapor concentration", "Water vapor density", "Wave height", "Weather conditions", "Well flow rate", "Wellhead pressure", "Wind Run", "Wind chill", "Wind direction", "Wind gust direction", "Wind gust speed", "Wind speed", "Wind stress", "Wrack coverage", "Xylenes, total", "Xylosidase", "Zeaxanthin", "Zinc, dissolved", "Zinc, distribution coefficient", "Zinc, particulate", "Zinc, total", "Zircon, dissolved", "Zirconium, dissolved", "Zirconium-95", "Zooplankton", "bis(2-Chloroethyl)ether", "bis-2-chloroisopropyl ether", "cis-1,2-Dichloroethene", "cis-1,3-Dichloropropene", "d-Limonene", "delta-13C of C2H6", "delta-13C of C3H8", "delta-13C of C4H10", "delta-13C of CH4", "delta-13C of CO2", "delta-13C of DIC", "delta-18O of H2O", "delta-D of CH4", "delta-D of H2O", "height, above sea floor", "n-alkane, C15", "n-alkane, C16", "n-alkane, C17", "n-alkane, C18", "n-alkane, C19", "n-alkane, C20", "n-alkane, C21", "n-alkane, C22", "n-alkane, C23", "n-alkane, C24", "n-alkane, C25", "n-alkane, C26", "n-alkane, C27", "n-alkane, C28", "n-alkane, C29", "n-alkane, C30", "n-alkane, C31", "n-alkane, C32", "n-alkane, C33", "n-alkane, long-chain", "n-alkane, short-chain", "n-alkane, total", "o-Xylene", "pH", "trans-1,2-Dichloroethene", "trans-1,3-Dichloropropene")</span>
<span class="kw">grep</span>(<span class="st">"Wind"</span>, varnames, <span class="dt">value =</span> <span class="ot">TRUE</span>)
<span class="co">#&gt; [1] "Wind Run"            "Wind chill"          "Wind direction"     </span>
<span class="co">#&gt; [4] "Wind gust direction" "Wind gust speed"     "Wind speed"         </span>
<span class="co">#&gt; [7] "Wind stress"</span></code></pre></div>
<blockquote>
<p>What about time zone?</p>
</blockquote>
<p>The values in the “Timestamp” column must have time in the format YYYY-MM-DD HH:MM:SS, but they can be character data or POSIXct. If they are character data, the time zone will be your computer’s local time, i.e. whatever is returned from <code>Sys.time()</code>. To specify a different time zone, such as if you are uploading data that was collected before or after daylight savings time or you are using UTC, make sure that the dates in the Timestamp column are of POSIXct format with a timezone specified. You can check the timezone of an object using the function <code><a href="http://lubridate.tidyverse.org/reference/tz.html">lubridate::tz()</a></code>. In the database, datetime values are stored in one column and timezones are stored in a separate column (as “UTC offset”). In the upload function, the UTC offset is an intger determined by using <code>format(as.POSIXct(x), "%z")</code>.</p>
</div>
<div id="insert" class="section level2">
<h2 class="hasAnchor">
<a href="#insert" class="anchor"></a>Insert</h2>
<p>The required arguments to <code><a href="../reference/db_insert_results_m.html">db_insert_results_m()</a></code> are</p>
<ul>
<li>database connection</li>
<li>data frame with Timestamp, site, and [Variable Name] columns</li>
<li>list of (“variables” = “units”) for each variable to be uploaded</li>
<li>method code</li>
<li>name of column with site codes</li>
<li>sampled medium (from medium controlled vocabulary e.g. Air, Soil, etc.)</li>
</ul>
<p>If the variable(s), method, or site code do not already exist in the database, they will be added.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/db_insert_results_m.html">db_insert_results_m</a></span>(<span class="dt">db =</span> db, 
                     <span class="dt">datavalues =</span> measurement_data,
                     <span class="dt">variables =</span> vars_list,
                    <span class="dt">site_code_col =</span> <span class="st">"site"</span>,
                     <span class="dt">method =</span> <span class="st">"SonicAnemometer"</span>,
                     <span class="dt">site_code =</span> <span class="st">"BB2"</span>,
                     <span class="dt">sampledmedium =</span> <span class="st">"Air"</span>)
<span class="co">#&gt; SonicAnemometer has been added to the Methods table.</span>
<span class="co">#&gt; Site BB1 has been entered into the samplingfeatures table.</span>
<span class="co">#&gt; Site BB2 has been entered into the samplingfeatures table.</span>
<span class="co">#&gt; Wind direction has been added to the Variables table.</span>
<span class="co">#&gt; Wind speed has been added to the Variables table.</span>
<span class="co">#&gt; Wind gust speed has been added to the Variables table.</span>
<span class="co">#&gt; Wind direction has been added to the Variables table.</span>
<span class="co">#&gt; Wind speed has been added to the Variables table.</span>
<span class="co">#&gt; Wind gust speed has been added to the Variables table.</span></code></pre></div>
<p>Optional arguments:</p>
<ul>
<li>processing level (otherwise “Raw data”)</li>
<li>actionby - First name of person who performed the action. If they do not exist in the database already, arguments to the <code><a href="../reference/db_describe_person.html">db_describe_person()</a></code> function must also be supplied: PersonLastName and PrimaryEmail.<br>
</li>
<li>equipment - code of the equipment used to collect the data. If not already in database, all required arguments to <code><a href="../reference/db_describe_equipment.html">db_describe_equipment()</a></code> must be supplied (at least serial_no, model_name, vendor, owner_first). If the equipment model is new, the manufacturer must also be supplied. If the owner of the equipment is not already in the people table, owner_last and owner_email must also be supplied.</li>
</ul>
</div>
<div id="get-values" class="section level2">
<h2 class="hasAnchor">
<a href="#get-values" class="anchor"></a>Get values</h2>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> datavalue, res.resultid, var.variablenamecv, units.unitsname, valuedatetime, sf.samplingfeaturecode
<span class="kw">FROM</span> measurementresultvalues mrv
<span class="kw">INNER</span> <span class="kw">JOIN</span> results res <span class="kw">ON</span> mrv.resultid = res.resultid
<span class="kw">INNER</span> <span class="kw">JOIN</span> variables var <span class="kw">ON</span> res.variableid = var.variableid
<span class="kw">INNER</span> <span class="kw">JOIN</span> featureactions fa <span class="kw">ON</span> res.featureactionid = fa.featureactionid
<span class="kw">INNER</span> <span class="kw">JOIN</span> samplingfeatures sf <span class="kw">ON</span> sf.samplingfeatureid = fa.samplingfeatureid
<span class="kw">INNER</span> <span class="kw">JOIN</span> actions acts <span class="kw">ON</span> acts.actionid = fa.actionid
<span class="kw">INNER</span> <span class="kw">JOIN</span> units units <span class="kw">ON</span> units.unitsid = res.unitsid
<span class="kw">INNER</span> <span class="kw">JOIN</span> methods meth <span class="kw">ON</span> meth.methodid = acts.methodid</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">DataValue</th>
<th align="right">ResultID</th>
<th align="left">VariableNameCV</th>
<th align="left">UnitsName</th>
<th align="left">ValueDateTime</th>
<th align="left">SamplingFeatureCode</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">180.0</td>
<td align="right">1</td>
<td align="left">Wind direction</td>
<td align="left">Degree</td>
<td align="left">2018-06-27 13:45:00</td>
<td align="left">BB1</td>
</tr>
<tr class="even">
<td align="right">1.0</td>
<td align="right">2</td>
<td align="left">Wind speed</td>
<td align="left">Meter per Second</td>
<td align="left">2018-06-27 13:45:00</td>
<td align="left">BB1</td>
</tr>
<tr class="odd">
<td align="right">2.0</td>
<td align="right">3</td>
<td align="left">Wind gust speed</td>
<td align="left">Meter per Second</td>
<td align="left">2018-06-27 13:45:00</td>
<td align="left">BB1</td>
</tr>
<tr class="even">
<td align="right">170.0</td>
<td align="right">4</td>
<td align="left">Wind direction</td>
<td align="left">Degree</td>
<td align="left">2018-06-27 13:55:00</td>
<td align="left">BB2</td>
</tr>
<tr class="odd">
<td align="right">1.5</td>
<td align="right">5</td>
<td align="left">Wind speed</td>
<td align="left">Meter per Second</td>
<td align="left">2018-06-27 13:55:00</td>
<td align="left">BB2</td>
</tr>
<tr class="even">
<td align="right">2.5</td>
<td align="right">6</td>
<td align="left">Wind gust speed</td>
<td align="left">Meter per Second</td>
<td align="left">2018-06-27 13:55:00</td>
<td align="left">BB2</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#connect">Connect</a></li>
      <li><a href="#prepare-data">Prepare data</a></li>
      <li><a href="#variables-and-units">Variables and units</a></li>
      <li><a href="#insert">Insert</a></li>
      <li><a href="#get-values">Get values</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Kelly Hondula.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
